<html> 
  <head>
    <!-- Some mhttp js library -->
    <script src="/js/mhttpd.js" type="text/javascript"></script>
    <script src="zepto.min.js" type="text/javascript"></script>
    <script src="branding.js" type="text/javascript"></script>
    <script src="monitoringWaffle.js" type="text/javascript"></script>
    <script src="tooltip.js" type="text/javascript"></script>
    <script src="alarmSidebar.js" type="text/javascript"></script>
    <script src="formHandler.js" type="text/javascript"></script>

    <!--  same idea for the css: -->
    <link rel="stylesheet" type="text/css" href="TestCSS!" />
    <link rel="stylesheet" type="text/css" href="demo.css" />
    <link rel="stylesheet" type="text/css" href="monitoringWaffle.css" />
  </head> 


  <body> 

    <!--Branding-->
    <canvas id="banner"></canvas>

    <!--Buttons-->
      <div id="navBar">
        <form action="demo.html" style='display:inline; position:relative; left:1%;'>
          <input type="submit" value="Dashboard">
        </form>
        <button type="button" style='position:relative; left:1%;'>Trigger</button>
        <button type="button" style='position:relative; left:1%;'>Monitoring</button>
        <button type="button" style='position:relative; left:1%;'>ELog</button>
        <p id="youAreHere" style='display: inline; color:rgba(0,0,0,0.2); font-size:24px; position:absolute; margin:0'></p>
      </div>

    <!--Waffleboards-->
    <div id="waffleplate">
      <canvas id="leftSidebar"></canvas>
      <canvas id="TestWaffle"></canvas>
      <canvas id="TestWaffle2"></canvas>
      <canvas id="rightSidebar"></canvas>
    </div>

    <!--Tool tip layer-->
    <div id="TTcontainer">
      <div id="TT">
        <p id="TipText"></p>
      </div>
    </div>

    <!--Input Layer-->
    <div id='InputLayer'>
      <p id='inputTitle'>sintitulo</p>
      <form id='setValues'>
        <input type='radio' id='offButton' name='HVswitch' value='off' style='margin-left:10px; margin-bottom:10px'>Off
        <input type='radio' id='onButton' name='HVswitch' value='on' style='margin-left:10px; margin-bottom:10px'>On
        <p id='FieldText'>Filler Text</p>
        <input type="text" id="demandval" name='textbox' value='default'>
        <p style='margin:0'></p>
        <input type="submit" value="Submit" style='margin-left:10px' onclick="javascript:updateParameter()">
        <input type="button" value="Cancel" onclick="javascript:abortUpdate('InputLayer')">
      </form>
    </div>

    <script type="text/JavaScript">

      //Insert branding & navigation
      Banner('banner', 'youAreHere', 'navBar', 'Voltage & Temperature Dashboard');

      //value-free dummy variable to initialize Waffle with:
      var startData;

      //set up wrapper div dimensions; minimum rendering width = 1200px:
      var renderWidth = Math.max(1200, window.innerWidth);
      $('#waffleplate').width(renderWidth)
      $('#waffleplate').height(window.innerHeight*0.9)

      //tool tip will throw its last known x and y positions up to global scope, so that
      //when the waffle refreshes, the tool tip can update without a mousemove event.
      //TODO: fix this without globals
      window.griffinToolTipX = 0;
      window.griffinToolTipY = 0;

      //cell labels; first entry decribes cell type (channel, card, crate, rack etc)
      var rowTitles = ['Card', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19'];
      var colTitles = ['Ch.', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19'];

      //Voltage Waffle:
      Waffle(0,20,20, 'TestWaffle', .999, 1, startData, "Voltage", "leftSidebar", "left", "TT", "TTcontainer", "waffleplate", 'mV', rowTitles, colTitles, "InputLayer", [''], ['mV']);

      //Temperature Waffle:
      Waffle(0,20,20, 'TestWaffle2', 0.8, 1, startData, "Temperature", "rightSidebar", "right", "TT", "TTcontainer", "waffleplate", 'K', rowTitles, colTitles, "InputLayer", [''], ['K']);

    </script> 
  
  </body>
 
</html>
